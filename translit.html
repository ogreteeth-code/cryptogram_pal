<html>
<head>

<style>
body {
  font: 10pt sans-serif;
}
select {
  margin: 1px 4px;
}
textarea {
  font: 12pt sans-serif;
}
label {
  font: 10pt sans-serif;
} 
input {
background-color: lightgrey;
}
</style>

<script>
//<!-- 

function collectUnlockedSelects() {
  var selectList = document.getElementsByTagName("SELECT");
  var trimList = [];

  var lockList = document.getElementsByClassName("lockList");
  var randoArray = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];

  for (i=lockList.length -1 ; i > -1; i--) {
    if(lockList[i].checked) {
      randoArray.splice(selectList.selectedIndex,1);
    } else {
      trimList.push(selectList[i])
  	} 
  }

}

function changeText() {
	frequency = [
		{letter: "A",count:0 },
		{letter: "B",count:0 },
		{letter: "C",count:0 },
		{letter: "D",count:0 },
		{letter: "E",count:0 },
		{letter: "F",count:0 },
		{letter: "G",count:0 },
		{letter: "H",count:0 },
		{letter: "I",count:0 },
		{letter: "J",count:0 },
		{letter: "K",count:0 },
		{letter: "L",count:0 },
		{letter: "M",count:0 },
		{letter: "N",count:0 },
		{letter: "O",count:0 },
		{letter: "P",count:0 },
		{letter: "Q",count:0 },
		{letter: "R",count:0 },
		{letter: "S",count:0 },
		{letter: "T",count:0 },
		{letter: "U",count:0 },
		{letter: "V",count:0 },
		{letter: "W",count:0 },
		{letter: "X",count:0 },
		{letter: "Y",count:0 },
		{letter: "Z",count:0 }
	];
  var cipherObj = document.getElementById("cipher");
  var cipherLength = document.getElementById("cipher").value.length;
  var plaintextObj = document.getElementById("plaintext");
  plaintextObj.value = "";
  
  for (i = 0; i < cipherLength; i+=1) {
    if (cipherObj.value[i] == cipherObj.value[i].match(/[A-Z]/)) {
      plaintextObj.value += document.getElementById(cipherObj.value[i]).value;
      // console.log("cipherObj: ",cipherObj.value[i])
      switch(cipherObj.value[i]) {
      	case "A":
      		frequency[0].count++;
      		break;
      	case "B":
      		frequency[1].count++;
      		break;
      	case "C":
      		frequency[2].count++;
      		break;
      	case "D":
      		frequency[3].count++;
      		break;
      	case "E":
      		frequency[4].count++;
      		break;
      	case "F":
      		frequency[5].count++;
      		break;
      	case "G":
      		frequency[6].count++;
      		break;
      	case "H":
      		frequency[7].count++;
      		break;
      	case "I":
      		frequency[8].count++;
      		break;
      	case "J":
      		frequency[9].count++;
      		break;
      	case "K":
      		frequency[10].count++;
      		break;
      	case "L":
      		frequency[11].count++;
      		break;
      	case "M":
      		frequency[12].count++;
      		break;
      	case "N":
      		frequency[13].count++;
      		break;
      	case "O":
      		frequency[14].count++;
      		break;
      	case "P":
      		frequency[15].count++;
      		break;
      	case "Q":
      		frequency[16].count++;
      		break;
      	case "R":
      		frequency[17].count++;
      		break;
      	case "S":
      		frequency[18].count++;
      		break;
      	case "T":
      		frequency[19].count++;
      		break;
      	case "U":
      		frequency[20].count++;
      		break;
      	case "V":
      		frequency[21].count++;
      		break;
      	case "W":
      		frequency[22].count++;
      		break;
      	case "X":
      		frequency[23].count++;
      		break;
      	case "Y":
      		frequency[24].count++;
      		break;
      	case "Z":
      		frequency[25].count++;
      		break;
      	default:
      		break;
      }

    } else {
      plaintextObj.value += cipherObj.value[i];
    }
  }

// write out the import-export key to the text-field based on the state of the selectList
  document.getElementById("importexport").value = "";
	var selectList = document.getElementsByTagName("SELECT");
  for (i = 0; i < 26; i+=1) {
    document.getElementById("importexport").value += selectList[i].options[selectList[i].selectedIndex].value;
  }
}

function frequencyAnalysis() {
  // hilite();
	var labelList = document.getElementsByClassName("labelList");
	// var topSevenShuffle = ["E","T","A","O","I","N","S","R","H","D"]; // other distro, by language priority.
	var topSevenShuffle = ["A","E","I","L","N","O","R","S","T","U"] // scrabble tile distro.
	// 1 point letters: a e i l n o r s t u

	var bottomFiveShuffle = ["F","H","J","K","Q","V","W","X","Y","Z"];
	
	// 4 point letters: f h v w y
	// 5 point letters: k
	// 8 point letters: j x
	// 10 point letters q z

	frequency.sort(function(a, b){return b.count - a.count})
	
	shuffleArray(topSevenShuffle);
  for (i=0 ; i < 7; i++) {
  	console.log("applying hifrequency " + i + ": " + frequency[i].letter)

  	document.getElementById(frequency[i].letter).options.selectedIndex = topSevenShuffle[i].charCodeAt(0)-65;
    hilite(frequency[i].letter.charCodeAt(0)-65,"hiFrequency")

	}

	lowFrequency = frequency.reverse();

	shuffleArray(bottomFiveShuffle);
  for (i=0 ; i < 5; i++) {
    	console.log("applying lowfrequency " + i + ": " + lowFrequency[i].letter)
    	document.getElementById(lowFrequency[i].letter).options.selectedIndex = bottomFiveShuffle[i].charCodeAt(0)-65;
    	hilite(lowFrequency[i].letter.charCodeAt(0)-65,"lowFrequency")
	}



	changeText();
}

function hilite(index,context) {
	// var changeDropdown = document.getElementById(formSel);
	// var changeLabel = document.getElementById(formSel.concat("labelizer"));
	// var changeLock = document.getElementById(formSel.concat("lock"));
	// var selectedOption = changeDropdown.options[changeDropdown.selectedIndex]

  var selectList = document.getElementsByTagName("SELECT");
  var trimmedUpdateList = [];
  var lockList = document.getElementsByClassName("lockList");
	var labelList = document.getElementsByClassName("labelList");

	//console.log(selectList)
	//console.log("Index: " + index + ", Context: " + context)
	if (index != null) {
		//console.log("set "  + index + " to " + context)

// in the future, might switch this to CSS classes that take care of this more comprehensively, and also offer some more context tags, but that's a future project.
		switch(context) {
				case "altered":
					labelList[index].parentNode.style.backgroundColor = "pink";
					labelList[index].parentNode.style.color = "black";
					selectList[index].disabled = false;
					return;

				case "disabled":
					labelList[index].parentNode.style.backgroundColor = "grey";
					labelList[index].parentNode.style.color = "dark grey";
					lockList[index].checked = true;
					selectList[index].disabled = true;
					return;

      	case "tlw":
					labelList[index].parentNode.style.backgroundColor = "green";
					labelList[index].parentNode.style.color = "white";
					lockList[index].checked = true;
					selectList[index].disabled = true;
      		return;

				case "clearUnused":
					labelList[index].parentNode.style.backgroundColor = "grey";
					labelList[index].parentNode.style.color = "dark grey";
					lockList[index].checked = true;
					lockList[index].disabled = true;
					selectList[index].disabled = true;
					selectList[index].selectedIndex = 26;
					return;

				case "locked":
					labelList[index].parentNode.style.backgroundColor = "black";
					labelList[index].parentNode.style.color = "white";
					selectList[index].disabled = true;
					return;

			  case "hiFrequency":
					labelList[index].parentNode.style.backgroundColor = "yellow";
					labelList[index].parentNode.style.color = "blue";
					lockList[index].checked = true;
			  	return;

			  case "lowFrequency":
					labelList[index].parentNode.style.backgroundColor = "orange";
					labelList[index].parentNode.style.color = "blue";
					lockList[index].checked = true;
			  	return;

				case "reset":
					labelList[index].parentNode.style.backgroundColor = "white";
					labelList[index].parentNode.style.color = "black";
					lockList[index].disabled = false;
					lockList[index].checked = false;
					selectList[index].disabled = false;
					selectList[index].selectedIndex = 26;
					return;
					
      	default:
      		console.log("set to white")
					labelList[index].parentNode.style.backgroundColor = "white";
					labelList[index].parentNode.style.color = "black";
					selectList[index].disabled = false;
      		return;
		}
	}
	else {
		for (i=0; i < lockList.length; i++) {
			// console.log("hilite loop, round " + i)
			
			// If we've used the "clear unused letters", the checkbox will be disabled and we can just use the hilite function to handle it.
			if(lockList[i].disabled) {
				hilite(i,"disabled");
			}
			else if (lockList[i].checked) {
			
				// console.log(i + " locked")
				// console.log("color: " + lockList[i].parentNode.style.color)
				switch(lockList[i].parentNode.style.backgroundColor) {
					case "pink": 
						hilite(i,"locked")
						return;

					default:
						break;
				// hilite(i,"locked");
				}
			}
			else if (selectList[i].id == selectList[i].options[selectList[i].selectedIndex].label) {
				hilite(i,"reset");
			}
			else if (selectList[i].id != selectList[i].options[selectList[i].selectedIndex].label) {
				hilite(i,"altered");
			}
		}
	}
  changeText();
}

function randomize() {
	//  START COLLECTION LIST
  var selectList = document.getElementsByTagName("SELECT");
  var trimmedUpdateList = [];
  var lockList = document.getElementsByClassName("lockList");
	var randoArray = [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];

  for (i=lockList.length-1 ; i > -1; i--) {
    if(!lockList[i].checked) {
			// console.log("Update field array + ", String.fromCharCode(i+65), "");
      trimmedUpdateList.unshift(i)
  	} else {
      // console.log("removing", String.fromCharCode(selectList[i].selectedIndex+65), "from randoArray");
      randoArray.splice(randoArray.indexOf(selectList[i].selectedIndex),1);
  	}
  }
  // END OF STANDARD COLLECTION LIST

	// console.log("randoArray: ", randoArray);
  shuffleArray(randoArray);
      
  for (i=0; i < trimmedUpdateList.length; i+=1) {
		selectList[trimmedUpdateList[i]].selectedIndex = randoArray[i];
	}
	hilite();
	changeText();
}

function clearUnlocked() {
  // console.log("clearing?");  

  var lockList = document.getElementsByClassName("lockList");  
  for (i=0; i < 26; i+=1) {
		if (!lockList[i].checked) {
				hilite(i,"reset")
		}
  }
  changeText();
}

function resetAll() {
	console.log("resetting all, theoretically")
  for (i=0; i < 26; i+=1) {
				hilite(i,"reset")
	}
  changeText();
}

function shuffleArray(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
 // console.log(arr)
}

function clearUnusedLetters() {

	var noLettersHere = [];

  for (i = 0; i < 26; i+=1) {
   //console.log(frequency[i].count)
    if (frequency[i].count == 0) {
			// console.log("There are no "+ frequency[i].letter + "'s in this puzzle")
			noLettersHere.push(frequency[i].letter)
		}
  }
  	// console.log(noLettersHere)  

  var labelList = document.getElementsByClassName("labelList");
  var selectList = document.getElementsByTagName("SELECT");
  	
  for (i=0 ; i < noLettersHere.length; i++) {
		// console.log(document.getElementById(noLettersHere[i]));
		hilite(noLettersHere[i].charCodeAt(0)-65, "clearUnused")
	}

	changeText();
}

function twoLetterWords() {
	/* This function parses the encoded text field and returns an array of encoded two letter words, which can then theoretically be mapped up against the abridged scrabble dictionary for the most-likely words and embed them in the mapper tool.
	*/
	const scrabbleDictAbridged = ["AM", "AN", "AS", "AT", "BY", "DO", "HE", "HI", "IF", "IN", "IS", "IT", "ME", "MY", "NO", "OF", "OH", "OK", "ON", "OR", "OW", "OX", "SO", "TO", "UP", "US", "WE"]; 
	//aa ab ad ae ag ah ai al am an ar as at aw ax ay ba be bi bo by da de do ed ef eh el em en er es et ew ex fa fe gi go ha he hi hm ho id if in is it jo ka ki la li lo ma me mi mm mo mu my na ne no nu od oe of oh oi ok om on op or os ow ox oy pa pe pi po qi re sh si so ta te ti to uh um un up us ut we wo xi xu ya ye yo za

  var cipherObj = document.getElementById("cipher").value.split(" ");
	var tlw = [];

  for (i = 0; i < cipherObj.length; i++) {
		// console.log("raw: " + cipherObj[i])
		if ( cipherObj[i].match(/^[A-Z][A-Z]$/) ){
			// console.log("matched: " + cipherObj[i]);
			const exists = tlw.find(
				_tlw => cipherObj[i] === _tlw
			)
			if (!exists) {
				// console.log("exists = false, adding " + cipherObj[i]);
				tlw.push(cipherObj[i]);
			}				
		}
	}
	// console.log(tlw);
//============================== End parsing portion =====================================
	var labelList = document.getElementsByClassName("labelList");
	var textfield = ""

	for (i = 0; i < tlw.length; i++) {
		textfield += tlw[i].charAt(0) + tlw[i].charAt(1) + ": <select id=" + tlw[i].charAt(0) + tlw[i].charAt(1) + " onChange=\"parseTLWs(this.id,this.value)\"><option value=\"__\">__</option>"
		scrabbleDictAbridged.forEach(function(word){textfield += "<option value=\"" + word + "\">" + word + "</option>";})
		textfield += "</select><br/>";
	}

	document.getElementById("twoLetterWords").innerHTML = textfield;
//end of function 
}

function threeLetterWords() {
	/* This function parses the encoded text field and returns an array of encoded two letter words, which can then theoretically be mapped up against the abridged scrabble dictionary for the most-likely words and embed them in the mapper tool.
	*/
	const scrabbleDictAbridged = ["AND","ARE","FOR","GET","NOT","SAY","THE","WAY","WHO","YOU"]; 
	//aa ab ad ae ag ah ai al am an ar as at aw ax ay ba be bi bo by da de do ed ef eh el em en er es et ew ex fa fe gi go ha he hi hm ho id if in is it jo ka ki la li lo ma me mi mm mo mu my na ne no nu od oe of oh oi ok om on op or os ow ox oy pa pe pi po qi re sh si so ta te ti to uh um un up us ut we wo xi xu ya ye yo za

  var cipherObj = document.getElementById("cipher").value.split(" ");
	var tlw = [];

  for (i = 0; i < cipherObj.length; i++) {
		// console.log("raw: " + cipherObj[i])
		if ( cipherObj[i].match(/^[A-Z][A-Z][A-Z]$/) ){
			// console.log("matched: " + cipherObj[i]);
			const exists = tlw.find(
				_tlw => cipherObj[i] === _tlw
			)
			if (!exists) {
				// console.log("exists = false, adding " + cipherObj[i]);
				tlw.push(cipherObj[i]);
			}				
		}
	}
	// console.log(tlw);
//============================== End parsing portion =====================================
	var labelList = document.getElementsByClassName("labelList");
	var textfield = ""

	for (i = 0; i < tlw.length; i++) {
		textfield += tlw[i].charAt(0) + tlw[i].charAt(1) + tlw[i].charAt(2) + ": <select id=" + tlw[i].charAt(0) + tlw[i].charAt(1)+ tlw[i].charAt(2) + " onChange=\"parseTLWs(this.id,this.value)\"><option value=\"__\">__</option>"
		scrabbleDictAbridged.forEach(function(word){textfield += "<option value=\"" + word + "\">" + word + "</option>";})
		textfield += "</select><br/>";
	}

	document.getElementById("threeLetterWords").innerHTML = textfield;
//end of function 
}

function parseTLWs(ab, xy) {

	// console.log("parsing " + ab + " into " + xy);
  var selectList = document.getElementsByTagName("SELECT");

	var a = ab.charAt(0).charCodeAt(0)-65
	var b = ab.charAt(1).charCodeAt(0)-65
	var c = ab.charAt(2).charCodeAt(0)-65
	
	var x = xy.charAt(0).charCodeAt(0)-65
	var y = xy.charAt(1).charCodeAt(0)-65
	var z = xy.charAt(2).charCodeAt(0)-65

	if (xy == "__") {
		// If the two-letter dropdown is cleared, clear the associated checkboxes
		selectList[a].options.selectedIndex = a;
		hilite(a,"reset")
		
		selectList[b].options.selectedIndex = b;
		hilite(b,"reset")

		if (c){
			selectList[c].options.selectedIndex = c;
			hilite(c,"reset")	
		}
		
		
		
	} else {
		// Otherwise, hilite() them with the TLW context
		selectList[a].options.selectedIndex = x;
		hilite(a,"tlw")

		selectList[b].options.selectedIndex = y;
		hilite(b,"tlw")
		
		if (c){
			selectList[c].options.selectedIndex = z;
			hilite(c, "tlw");
		}
		
	}
	changeText()

}



//-->
</script>

</head>

<body onLoad="changeText();">
<form id="cryptopal">
<textarea id="cipher" rows="12" cols="95">
L JTTE JRWTPRC L WHLCCFW ZNRM DRTDHR ZNT NLURM'S ARLB FS JRVFM ST CLG SNRG NLUR.


</textarea>
<hr>
<!-- BG D OKKQ BCKOIFL SLFBOI, D GBR OIF OILFF GOBLG BZBDC. OIFM RFLF CKO TBYYDCZ OK WF; OIFM RFLF YFOODCZ WF ZK, YFBADCZ WF OK OIF SYBTQ JCDAFLGF D IBX RBCXFLFX VKL GK WBCM YDVFODWFG. D XLDVOFX DCOK OIF SYBTQ, BCX DO ZKO SLDZIOFL BCX SLDZIOFL. DO RBGC'O SYBTQ BO BYY--DO RBG SYJF. RBLW, ADSLBCO, SLDYYDBCO SYJF... D VYKBOFX DCOK DO RDOI CK VFBL BO BYY.-->
<table>
<tr>
<td>
<label for="A" id="Alabelizer" class="labelList">A: </label>
<select id="A" onChange="hilite()">
  <option value="a" selected>A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
</select>
<input type="checkbox" id="Alock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="B" id="Blabelizer" class="labelList">B: </label>
<select id="B" onChange="hilite()">
  <option value="a">A</option>
  <option value="b" selected>B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
</select>
<input type="checkbox" id="Block" class="lockList" onChange="hilite()">
</td>
<td>
<label for="C" id="Clabelizer" class="labelList">C: </label>
<select id="C" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c" selected>C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
</select>
<input type="checkbox" id="Clock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="D" id="Dlabelizer" class="labelList">D: </label>
<select id="D" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d" selected>D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Dlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="E" id="Elabelizer" class="labelList">E: </label>
<select id="E" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e" selected>E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Elock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="F" id="Flabelizer" class="labelList">F: </label>
<select id="F" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f" selected>F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Flock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="G" id="Glabelizer" class="labelList">G: </label>
<select id="G" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g" selected>G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Glock" class="lockList" onChange="hilite()">
</td>
</tr>
<tr>
<td>
<label for="H" id="Hlabelizer" class="labelList">H: </label>
<select id="H" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h" selected>H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Hlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="I" id="Ilabelizer" class="labelList">I: </label>
<select id="I" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i" selected>I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Ilock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="J" id="Jlabelizer" class="labelList">J: </label>
<select id="J" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j" selected>J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Jlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="K" id="Klabelizer" class="labelList">K: </label>
<select id="K" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k" selected>K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Klock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="L" id="Llabelizer" class="labelList">L: </label>
<select id="L" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l" selected>L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Llock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="M" id="Mlabelizer" class="labelList">M: </label>
<select id="M" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m" selected>M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Mlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="N" id="Nlabelizer" class="labelList">N: </label>
<select id="N" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n" selected>N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Nlock" class="lockList" onChange="hilite()">
</td>
</tr>
<tr>
<td>
<label for="O" id="Olabelizer" class="labelList">O: </label>
<select id="O" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o" selected>O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
</select>
<input type="checkbox" id="Olock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="P" id="Plabelizer" class="labelList">P: </label>
<select id="P" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p" selected>P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Plock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="Q" id="Qlabelizer" class="labelList">Q: </label>
<select id="Q" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q" selected>Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Qlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="R" id="Rlabelizer" class="labelList">R: </label>
<select id="R" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r" selected>R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Rlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="S" id="Slabelizer" class="labelList">S: </label>
<select id="S" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s" selected>S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Slock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="T" id="Tlabelizer" class="labelList">T: </label>
<select id="T" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t" selected>T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
</select>
<input type="checkbox" id="Tlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="U" id="Ulabelizer" class="labelList">U: </label>
<select id="U" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u" selected>U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Ulock" class="lockList" onChange="hilite()">
</td>
</tr>
<tr>
<td>
  <label for="V" id="Vlabelizer" class="labelList">V: </label>
  <select id="V" onChange="hilite()">
    <option value="a">A</option>
    <option value="b">B</option>
    <option value="c">C</option>
    <option value="d">D</option>
    <option value="e">E</option>
    <option value="f">F</option>
		<option value="g">G</option>
		<option value="h">H</option>
		<option value="i">I</option>
		<option value="j">J</option>
		<option value="k">K</option>
		<option value="l">L</option>
		<option value="m">M</option>
		<option value="n">N</option>
		<option value="o">O</option>
		<option value="p">P</option>
		<option value="q">Q</option>
		<option value="r">R</option>
		<option value="s">S</option>
		<option value="t">T</option>
		<option value="u">U</option>
		<option value="v" selected>V</option>
		<option value="w">W</option>
		<option value="x">X</option>
		<option value="y">Y</option>
		<option value="z">Z</option>
		<option value="_">_</option>
	</select>
	<input type="checkbox" id="Vlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="W" id="Wlabelizer" class="labelList">W: </label>
<select id="W" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w" selected>W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Wlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="X" id="Xlabelizer" class="labelList">X: </label>
<select id="X" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x" selected>X</option>
  <option value="y">Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Xlock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="Y" id="Ylabelizer" class="labelList">Y: </label>
<select id="Y" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y" selected>Y</option>
  <option value="z">Z</option>
  <option value="_">_</option>
  </select>
<input type="checkbox" id="Ylock" class="lockList" onChange="hilite()">
</td>
<td>
<label for="Z" id="Zlabelizer" class="labelList">Z: </label>
<select id="Z" onChange="hilite()">
  <option value="a">A</option>
  <option value="b">B</option>
  <option value="c">C</option>
  <option value="d">D</option>
  <option value="e">E</option>
  <option value="f">F</option>
  <option value="g">G</option>
  <option value="h">H</option>
  <option value="i">I</option>
  <option value="j">J</option>
  <option value="k">K</option>
  <option value="l">L</option>
  <option value="m">M</option>
  <option value="n">N</option>
  <option value="o">O</option>
  <option value="p">P</option>
  <option value="q">Q</option>
  <option value="r">R</option>
  <option value="s">S</option>
  <option value="t">T</option>
  <option value="u">U</option>
  <option value="v">V</option>
  <option value="w">W</option>
  <option value="x">X</option>
  <option value="y">Y</option>
  <option value="z" selected>Z</option>
  <option value="_">_</option>
</select>
<input type="checkbox" id="Zlock" class="lockList" onChange="hilite()">
</td>
</tr>
</table>

<button type="button" onClick="randomize()">randomize</button>
<button type="button" onClick="clearUnlocked()">reset</button>


<input type="text" id="importexport" size="25">
import / export
<button type="button" onClick="resetAll();">reset all</button>
<hr>
<textarea id="plaintext" rows="10" cols="95">
</textarea>
<br />
<button type="button" id="translate" onClick="changeText()">translate</button>

<h3>Other Tools</h3>
<button type="button" onClick="frequencyAnalysis()">frequency analysis</button>
<button type="button" onClick="clearUnusedLetters()">clear unused letters</button>
<button type="button" onClick="twoLetterWords()">two letter words</button>
<button type="button" onClick="threeLetterWords()">3 letter words</button>
<div id="twoLetterWords"></div>
<div id="threeLetterWords"></div>


</form>
</body>
</html>